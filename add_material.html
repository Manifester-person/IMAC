<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Add New Material</title>
  <style>
    body {
      background: #f3f5fa;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .card {
      background: #fff;
      max-width: 630px;
      width: 99%;
      margin: 48px auto;
      padding: 38px 38px 36px 38px;
      border-radius: 18px;
      box-shadow: 0 8px 32px rgba(31, 41, 55, 0.15), 0 1.5px 2.5px #eaeaea;
      display: flex;
      flex-direction: column;
      align-items: stretch;
    }
    h2 {
      text-align: center;
      font-size: 2.15rem;
      font-weight: 700;
      margin-bottom: 30px;
      color: #242424;
      letter-spacing: 0.03em;
    }
    .form-group {
      display: flex;
      flex-direction: column;
      margin-bottom: 14px;
    }
    .form-row {
      display: flex;
      gap: 18px;
      margin-bottom: 14px;
    }
    .form-row .form-group {
      margin-bottom: 0;
      flex: 1 0 0;
    }
    label {
      font-weight: 650;
      margin-bottom: 3px;
      color: #27263a;
      font-size: 1.02rem;
      letter-spacing: 0.01em;
    }
    input[type="text"], input[type="number"], textarea {
      border: 1.5px solid #e0e2ea;
      padding: 10px 13px;
      border-radius: 7px;
      font-size: 1.01rem;
      transition: border 0.3s, box-shadow 0.3s;
      background: #f7f8fb;
      font-family: inherit;
      resize: vertical;
    }
    input[readonly] {
      background: #eaecf2;
      color: #858595;
      font-weight: 700;
      letter-spacing: 0.04em;
    }
    input:focus, textarea:focus {
      outline: none;
      border-color: #2563eb;
      box-shadow: 0 2px 10px rgba(37,99,235,0.095);
      background: #fff;
    }
    textarea {
      min-height: 62px;
      max-height: 190px;
    }
    .required-star {
      color: #e73333;
      margin-left: 2px;
      font-size: 1.13em;
      font-weight: 600;
      vertical-align: middle;
    }
    /* Accent submit button */
    .btn-submit {
      margin-top: 18px;
      padding: 15px 0;
      width: 100%;
      background: #2563eb;
      color: #fff;
      font-weight: 700;
      font-size: 1.16rem;
      border: none;
      border-radius: 7px;
      cursor: pointer;
      box-shadow: 0 3px 14px rgba(37,99,235,0.14);
      letter-spacing: 0.01em;
      transition: background 0.2s, box-shadow 0.2s, transform 0.12s;
    }
    .btn-submit:hover, .btn-submit:focus {
      background: #1848a7;
      box-shadow: 0 5px 22px rgba(37,99,235,0.19);
      transform: translateY(-2px) scale(1.02);
      outline: none;
    }
    /* Back button */
    .btn-back {
      margin: 26px auto 0 auto;
      display: block;
      padding: 13px 38px;
      border-radius: 22px;
      background: linear-gradient(90deg, #7B61FF 20%, #9b68ec 90%);
      color: #fff;
      font-weight: 600;
      font-size: 1.08rem;
      border: none;
      text-decoration: none;
      box-shadow: 0 2px 14px rgba(119,97,255,0.13);
      text-align: center;
      transition: background 0.22s, box-shadow 0.22s;
    }
    .btn-back:hover, .btn-back:focus {
      background: linear-gradient(90deg, #7a56e9, #7B61FF 90%);
      text-decoration: underline;
      outline: none;
      box-shadow: 0 2px 17px rgba(123,97,255,0.24);
    }
    @media (max-width: 900px) {
      .card { max-width: 98vw; }
    }
    @media (max-width: 700px) {
      .card { padding: 20px 5px 16px 5px; }
      .form-row { flex-direction: column; gap:0; }
    }
  </style>
</head>
<body>
  <div class="card">
    <h2>Add New Material</h2>
    <form method="POST" action="{{ url_for('add_material') }}">
      <div class="form-group">
        <label for="material_code">Material Code</label>
        <input type="text" id="material_code" name="material_code" value="{{ material_code }}" readonly>
      </div>
      <div class="form-group">
        <label for="material_name">Material Name <span class="required-star">*</span></label>
        <input type="text" id="material_name" name="material_name" placeholder="Enter material name" required>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="vendor">Vendor</label>
          <input type="text" id="vendor" name="vendor" placeholder="Vendor name or company">
        </div>
        <div class="form-group">
          <label for="item_category">Item Category</label>
          <input type="text" id="item_category" name="item_category" placeholder="E.g. Raw Material, Component">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="unit_of_measurement">Unit of Measurement</label>
          <input type="text" id="unit_of_measurement" name="unit_of_measurement" placeholder="Units (e.g., pcs, kg)">
        </div>
        <div class="form-group">
          <label for="minimum_stock_level">Minimum Stock Level</label>
          <input type="number" id="minimum_stock_level" name="minimum_stock_level" placeholder="">
        </div>
        <div class="form-group">
          <label for="current_stock">Current Stock</label>
          <input type="number" id="current_stock" name="current_stock" placeholder="">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="tax">Tax (%)</label>
          <input
            type="number"
            id="tax"
            name="tax"
            placeholder="Enter tax percentage"
            min="0"
            max="100"
            step="0.01"
            required
          >
        </div>
        <div class="form-group">
          <label for="rate2">Rate</label>
          <input
            type="number"
            id="rate2"
            name="rate2"
            placeholder="Enter rate"
            min="0"
            step="0.01"
            required
          >
        </div>
      </div>

      <div class="form-group">
        <label for="reorder_quantity">Reorder Quantity</label>
        <input type="number" id="reorder_quantity" name="reorder_quantity" placeholder="">
      </div>

      <div class="form-group">
         <label for="location">Location</label>
         <input type="text" id="location" name="location" placeholder="Enter storage location" />
      </div>

      <div class="form-group">
        <label for="purchase_history">Purchase History</label>
        <textarea id="purchase_history" name="purchase_history" placeholder="Enter any relevant purchase history notes..."></textarea>
      </div>
      <button type="submit" class="btn-submit">Add Material</button>
    </form>
    <a href="{{ url_for('dashboard') }}" class="btn-back">Back to Dashboard</a>
  </div>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <script>
        window.onload = function() {
          {% for category, message in messages %}
            alert("{{ message }}");
          {% endfor %}
        }
      </script>
    {% endif %}
  {% endwith %}

</body>
</html>
